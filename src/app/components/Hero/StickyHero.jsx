import { useState, useEffect } from 'react';

export default function StickyHero() {
  const [scale, setScale] = useState(1); // Initial scale is 1 (no zoom)
  const [left , setLeft] = useState(0);
  const [display , setDisplay] = useState('flex');
  useEffect(() => {
    const handleScroll = () => {
      const scrollY = window.scrollY;
      const left = window.scrollY*0.7 ;
      const newScale = 1 + scrollY /400;
      console.log(newScale , left)

      if(scale<=10){

        setScale(newScale);
      }
      else{
        setScale(10);
        setDisplay('none');
      }
      if(left<=375)
      {

        setLeft(left);
      }
      else{
        setLeft(375);
      }
      if(scale>=10.1){
        setOpacity(0);
      }
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <div style={{ height: '700vh', }}>
      {
        scale<=12 &&
      <div
        style={{
          display: display,
          justifyContent: 'center',
          alignItems: 'center',
          height: '100vh', 
          position: 'sticky' , 
          
          top: 0,
          // Center SVG vertically
        }}
      >
        <svg width="1475" height="596" style={{
            transform: `scale(${scale}) translateX(${left}px)`, // Scale SVG
            transition: 'transform', // Smooth scaling effect
          }} fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="1109.42" cy="298.57" r="252.399" fill="#616751"/>
<circle cx="1109.42" cy="298.57" r="228.469" fill="#737A62"/>
<circle cx="1109.42" cy="298.57" r="198.842" fill="#888F77"/>
<circle cx="1109.42" cy="298.57" r="168.076" fill="#A1A891"/>
<circle cx="1109.42" cy="298.57" r="145.286" fill="#B9C0A9"/>
<circle cx="1109.42" cy="298.57" r="120.217" fill="#D2D8C5"/>
<circle cx="1109.42" cy="298.57" r="91.7296" fill="#E8ECDF"/>
<circle cx="363.045" cy="298.57" r="252.399" fill="#616751"/>
<circle cx="363.046" cy="298.57" r="228.469" fill="#737A62"/>
<circle cx="363.046" cy="298.57" r="198.842" fill="#888F77"/>
<circle cx="363.045" cy="298.57" r="168.076" fill="#A1A891"/>
<circle cx="363.046" cy="298.57" r="145.286" fill="#B9C0A9"/>
<circle cx="363.045" cy="298.57" r="120.217" fill="#D2D8C5"/>
<circle cx="363.046" cy="298.57" r="91.7296" fill="#E8ECDF"/>
<path d="M1408.94 262.99C1418.89 262.99 1428.95 263.042 1439 262.99C1450.89 262.92 1460.46 267.712 1467.42 277.138C1475.46 288.034 1476.88 300.013 1471.14 312.412C1465.55 324.497 1455.94 331.772 1442.62 332.647C1431.5 333.381 1420.3 332.804 1409.33 332.804C1406.44 346.672 1404.24 360.016 1400.83 373.045C1384.95 433.923 1352.66 484.604 1304.81 525.282C1270.47 554.471 1231.28 574.565 1187.64 585.845C1151.94 595.079 1115.67 597.842 1079.13 593.19C993.47 582.295 924.54 542.001 873.156 472.642C842.152 430.775 823.923 383.486 818.435 331.51C817.316 320.929 816.565 310.261 816.46 299.628C816.198 275.389 806.201 255.75 787.78 240.885C749.679 210.14 696.513 218.832 669.825 259.895C662.257 271.524 658.185 284.483 658.168 298.736C658.098 354.227 643.871 406.011 614.527 453.02C581.005 506.745 535.442 547.266 476.7 571.854C424.198 593.837 369.652 600.413 313.357 591.249C252.256 581.281 199.387 554.646 154.855 511.781C118.695 476.979 92.6534 435.584 78.0074 387.473C72.6593 369.932 69.1813 351.832 64.6022 332.944C56.5277 332.944 47.1948 333.294 37.8969 332.804C32.2517 332.507 26.2919 331.807 21.1186 329.709C5.94829 323.535 -2.40588 307.078 0.792471 291.269C4.04326 275.162 17.6581 263.462 34.0169 263.077C44.4683 262.833 54.9198 263.025 65.7383 263.025C77.6578 177.996 116.964 109.161 185.825 58.1297C237.104 20.1097 295.233 1.50197 359.078 0.767454C483.394 -0.684091 604.093 78.6437 645.846 212.326C671.555 187.702 701.756 174.288 737.41 174.306C772.906 174.306 802.95 187.65 828.519 212.098C877.194 62.0297 1014.88 -10.8274 1143.6 2.04411C1269.42 14.6358 1389.37 112.309 1408.94 262.99ZM1360.09 298.614C1359.81 160.962 1249.2 51.7289 1113.98 51.4491C978.964 51.1693 867.441 160.07 867.109 296.935C866.777 433.713 976.29 543.89 1113.17 544.38C1248.78 544.852 1359.62 434.517 1360.07 298.614H1360.09ZM360.004 51.4666C223.122 52.341 113.644 163.323 114.535 300.328C115.426 435.531 227.176 545.377 362.556 544.45C498.023 543.523 609.616 433.275 607.466 293.735C605.404 159.318 495.209 50.8195 360.004 51.4841V51.4666Z" fill="#464B37"/>
</svg>

      </div>
      }
    </div>
  );
}
